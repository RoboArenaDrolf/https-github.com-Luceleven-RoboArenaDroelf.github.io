<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roboarena Report</title>

    <style>
        body {
            background-color: #aaaaaa; 
            width: 60%; 
            margin: auto; 
            padding: 20px; 
            font-family: Arial, sans-serif; 
            color: #333; 
        }

        h1 {
            color: #6d0e00; 
            text-decoration: underline; 
        }

        p {
            margin-bottom: 15px; 
        }

        img {
            display: block; 
            margin: auto; 
            margin-top: 20px; 
            border: 2px solid #6d0e00; 
            border-radius: 5px; 
        }
    </style>
</head>
<body>
    <h1>Sprint 1: Einrichtung</h1>
    <p>
        Zuerst haben wir ein Repository mit unserem
        Teamnamen erstellt. Danach haben wir allen die Adminrolle
        zugeteilt, damit wir alle die Möglichkeit haben, an die Repository-
        Einstellungen zu gelangen. Dadurch konnten wir die gewünschte 
        Konfiguration für GitHub Pages einstellen.
        Dannach hat Björn mit hilfe einiger online Guides die Githubactions eingerichtet,
        diese aber erst als letztes gemerged.
    </p>
    <p>
        Emanuel hat nun eine Grundbasis für ein erstes Spiel geschaffen. Hierbei
        muss man mittels den Pfeiltasten den schwarzen Quadraten entweichen. Entsteht
        eine Kollision, so erscheint die Schrift "Game Over" und das Spiel beendet sich.
    </p>
    <p>
        Luca hat ermöglicht, dass das Spiel im Vollbildmodus spielbar ist. 
        Er hat mithilfe des Moduls screeninfo die Monitorauflösung abgerufen 
        und anhand dieser das Fenster sowie alles andere, was zuvor eine fixe 
        Größe hatte, angepasst.
    </p>
    <p>
        Emanuel hat nun noch das Feature hinzugefügt, dass man nach dem Verlieren noch 
        die Möglichkeit hat, zwischen "Nochmal spielen" und "Beenden" zu wählen.
    </p>
    <p>
        Björn hat ein Punktesystem eingeführt, neben den schwarzen Quadraten gibt es nun auch weiße,
        diese können eingesammelt werden und erhöhen einen Punktecounter der in der oberen Linken
        Bildschirmecke zu sehen ist.
    </p>

    <img src="firstgame.png" alt="Screenshot des ersten Spiels" height="300" width="300">

    <h1>Sprint 2: Konzeption und Kodierung</h1>
    <p>
        Idee war ein 2D Game mit Seitenansicht und grobes Spielprinzip wie Brawlhalla oder Smash Bros.
        Es gibt verschiedene spielbare Roboter mit verschiedenen Waffen/Items/Fähigkeiten und Bewegungsmöglichkeiten.

        Die verschiedenen Tiles auf der Map haben ebenfalls Einfluss auf das Spiel:
        Beton und Gras sind normale Untergründe, Sand verringert die Bewegungsrate, auf Eis schlittert man und wenn man Lava berührt bekommt man entweder massiv Schaden oder man stirbt.

        Mögliche Spielmodi wären hierbei:
        Normaler Arena Fight wie bei Smash Bros, entweder mit HP oder den Prozenten mit mehr Rückstoß und man stirbt erst wenn man von der Map fliegt.
        Da die Arenas recht groß sein können kann man sich die Fights evtl. auch raussuchen und man macht so Art Levels.
        Endlosmodus Rogue Like mit Highscore und/oder Bossfights.
    </p><br>

    <img src="MapFirstDraft.png"  height="300" width="300"><br>
    <img src="SketchOfMap.png"    height="300" width="300"><br>
    <img src="SketchOfRobots.png" height="300" width="300"><br>

    <p>
        Emanuel hat sich um die Movement-Klasse unter dem Entwickler-Branch "Movement" 
        gekümmert. Hierbei wurde eine Funktion geschrieben, die die posx- und posy-Werte 
        der Robot-Klasse durch Drücken der Tasten verändert. Zudem wurde Gravitation 
        eingefügt, sodass der Roboter nach dem Springen wieder zurück auf den Boden fällt.
        Zusätzlich wurden vertikale Grenzen hinzugefügt, damit der Roboter sich nicht über den 
        Bildschirmrand hinaus bewegt.
    </p>
    <p>
        Luca hat die Arena Klasse unter dem branch "arena" entwickelt. Er hat sich zunächst dafür entschieden, 
        die Tiles der Map als Liste von Listen abzuspeichern, quasi wie ein 20 x 20 Array. Die verschiedenen Tiles 
        sind hierbei repräsentiert durch das Enum TileType, wo auch gleichzeitig die Farben der Tiles abgespeichert sind.
        Optimal finden wir diese Speicherstruktur nicht, da es sehr anstrengend ist die Map zu "zeichnen". Eine Idee für später
        wäre ein Map Editor, um das erstellen von Maps graphisch zu erleichtern und diese dann z.B. in eine Json Datei (evtl. immer noch als
        "Array") abzuspeichern. Um die Arena zu zeichnen kann die Funktion paint_arena verwendet werden, die mithilfe von zwei For-Schleifen 
        die verkettete Liste durchgeht und die Tiles als rectangles mithilfe der Farbe des TileType an der entsprechenden Position zeichnet.        
    </p>
    <p>
        Björn hat die Robot Klasse unter dem Branch "robotclass" entwickelt.
        Diese ist recht simpel geblieben wir haben die 4 Attribute: x,y Koordinaten, einen Radius r, und ein Alpha a.
        Sowie eine Paint Funktion mit der man den Roboter als Kreis aufzeichnen kann, mit einer schwarzen linie
        welche uns die Ausrichtung Alpha anzeigt.
    </p>




    <h1>Sprint 3:</h1>
    <p>
        Luca hat einen Arena Builder entwickelt, mit dem man einfach Maps zeichnen kann. Man kann mit den Zahlen 1-7 auf der Tastatur durch die 
        verschiedenen Tiles durchschalten und mit der linken Maustaste Blöcke setzen. Wenn man die linke Maustaste gedrückt hält kann man auch gleich
        mehrere Blöcke zeichnen. Diese Map kann man dann benennen und abspeichern. Die Map wird dann in einem json File mit dem Namen, den man eingegeben hat, abgespeichert.
        Mann kann auch mithilfe des Mapnamens vorher erstellte Maps laden und anpassen. Dieses Feature ist nicht nur für uns zum Maps erstellen praktisch, wir stellen
        es dann auch dem Spieler zur Verfügung, damit er eigene Maps erstellen kann. <br>
        <br>
        Danach hat Luca Pixel Art Blöcke erstellt, um damit die einfarbigen Tiles zu ersetzen. Er hat über Seiten wie "pexels" oder "pixabay" nach lizenzfreien Bildern gesucht und aus diesen dann 
        mithilfe des Tools "Pixel it" Pixel Art erstellt. Damit die Übergänge zu benachbarten Blöcken besser aussehen ist er dann noch manuell mit dem Tool "Pixilart" rangegangen. Zudem hat er bei 
        dieser Umstellung vorerst den TileType CONCRETE gelöscht, jedoch dafür BIRCH und LEAVES hinzugefügt. Zudem hat er eine neue kleine Map erstellt um die neuen TileTypes zu repräsentieren. <br>
        <br>
        Zudem hat er Emanuel dabei geholfen 3 Roboter Bots hinzuzufügen, die sich random über die Map bewegen. Auch bei dem branch "blockPhysics" hat er beim Feinschliff geholfen.
        Er hat auch angefangen mithilfe von Chat-GPT dem Code ein paar Kommentare zu verpassen und ein README zu erstellen mit einer kleinen Dokumentation des Spiels, aber leider hat es das nicht mehr in den Sprint geschafft.
    </p>  
    <p>
        Emanuel hat zuerst versucht, in dem Branch "3Robots" die Option einzubauen, mit mehreren Spielern zu spielen.
        Heißt am Anfang wird man gefragt mit wie vielen Spielern man spielen möchte und dementsprechend soll die Anzahl
        an Robotern initialisiert werden. Dies wurde vorallem als Vorbereitung für den Multiplayer erstellt. 
        <br>
        Danach hat Emanuel sich an den Branch "blockPhysics" gesetzt, in dem sich um die physikalische Oberfläche der Blöcke gekümmert 
        wurde. Heißt man kann ab jetzt auch auf den Blöcken stehen. Zudem wurden auch unsichtbare seitliche Ränder hinzugefügt,
        so dass man sich jetzt nicht mehr aus der Spielwelt hinaus bewegen kann.    
    </p>

    <p>
       Björn hat zuerst die Robot Klasse um die gewünschten neuen attribute erweitert, das waren "acceleration, rotational acceleration, Maximum acceleration, Maximum rotational acceleration, velocity" and "turning speed".
        Hiernach hat er das alte movement system, bei dem wir uns bei einem Pfeiltastendruck um eine feste Zahl x zur seite beweget haben, auf die neuen attribute angepasst.
        So beschleunigt nun der Roboter langsam und wird dabei immer schneller.
        Zusätzlich haben wir eine, momentan noch feste, Maximalgeschwindigkeit eingeführt, da ein "unendlich" langes beschleunigen nicht wirklich nützlich ist.
        <br>
        Die Rotation wurde jedoch anders implementiert, die vorgschlagene Version ergibt unserer Meinung nach wegen unser Wahl der Perspektiv nicht sehr viel sinn.
        Die Orientierung eines Roboters ist durch eine schwarze linie gegeben, eine Drehung von Orientierung nach Rechts um 90° würde dann entweder direkt zur Kamera oder von der Kamera weg zeigen.
        Das ist widerrum nutzloss da wir uns ja nur nach links,rechts,oben und unten Bewegen können und nicht nach Vorne und Hinten.
        Eine Rotation nach Oben oder Unten ergibt hier eigentlich auch keinen Sinn, auch wenn die momentane Implementierung das so regelt.
        Weiterhin hatten wir aus Spielerischer sicht 2 ideen für die Rotation:
        <br>
            1. Die Ausrichtung ändert sich sofort nach dem Tastendruck (Schnelles und präzises Zielen ist möglich)
        <br>
            2. Die Ausrichtung nach Links und Rechts ist an die Geschwindigkeit gekoppelt (nur langsames Zielen "Tank controls")
        <br>
        In beiden Fällen werden jedoch weder "rotational acceleration" noch dessen Maximum gebraucht, nur ein minimaler delay infrom des "turning speed" wäre angemessen.
        <br>
        Außerdem hat Björn die Githubactions bearbeitet sodass flake8 test nun einem Zeilenlimit von 120 Zeichen arbeiten.

    </p>

    
    <h1>Sprint 4:</h1>
    <p>Emanuel's To-Do's für diese Woche waren zu einem, den endlosen Sprung zu entfernen und einen Doppelsprung hinzuzufügen. 
        Das hat in sofern geklappt, dass man stand jetzt nicht mehr unendlich viele Sprünge in der Luft machen kann, sondern 
        nur einmal bevor man wieder in Kontakt mit dem Boden kommt. In Zukunft sollen aber zwei Sprünge möglich sein (zweiter Sprung in der Luft),
        bevor man wieder den Boden berührt. Zudem ist jetzt auch noch der Bug aufgetreten, dass man nicht mehr Springen kann, wenn man sich auf 
        der untersten Kante (unterer Area-Rand) befindet. Dies wird allerdings erstmal offen gelassen bis man beschließt, was eigentlich passieren soll,
        wenn man aus der Map fällt <br>
        Zum anderen hat er danach geschaut, dass man nicht mehr in Blöcke reinbuggt. Hier war die Vermutung, dass es an der Position lag, die einem
        nach einer Kollision zugewiesen wird. Dies wurde nun aufgeteilt in Kollision von links oder Rechts und Kollision von oben oder unten. Allerdings
        tritt der Bug immer noch auf.<br>
        Zudem hat sich Emanuel um die Powerpoint-Präsentation gekümmert.<br>
    </p>
    <p>
        Luca hat es möglich gemacht, dass Maps nun ein Hintergrundbild haben. Dies kann man im Arena Builder mithilfe des Buttons "Load Image" hinzufügen.
        Wenn man den Button clickt öffnet sich ein file dialog, in dem man dann das gewünschte Bild auswählen kann. Dieses wird dann beim Speichern der Map in
        den gleichen Ordner wo auch die json Dateien für die Maps liegen kopiert mit demselben Dateinamen (bis auf die Dateiendung natürlich) wie die Map selbst.
        Das Bild wird automatisch auf die Map Größe skaliert. Er hat zudem für die beiden existierenden Maps zwei Pixel Art Hintergrundbilder mit dem Bing Image Creator
        generiert und in die Maps integriert.<br>
        Danach hat er den Arena Builder in das Spiel integriert. Man hat nun bei Spielstart die Wahl zwischen "Play Game", "Build Arena" und "Exit". Wenn man auf den "Build Arena"
        button clickt kommt man zu einem Screen wo man die Anzahl an tiles in x und y Richtung eingeben kann. Bei Bestätigung öffnet sich dann der Arena Builder mit der eingegebenen
        Anzahl an tiles. Zudem hat er einen "Exit" Button in den Arena Builder integriert, mit dem man wieder zurück zum Main Menu kommt. <br>
        Dann hat er versucht, das komplette Spiel mitsamt dem Arena Builder skalierbar zu machen. Das heißt es gibt dann ein Setting Menu, mit dem man verschiede Bildschirm Auflösungen einstellen
        kann sowie einen Fullscreen Modus. Alle Buttons und andere Elemente werden dann dementsprechend skaliert dargestellt und behalten ihre Anordnung. Auch die Map, die vorher eine feste tile size 
        hatte, wird skaliert dargestellt. Zudem wird auch die Map zentriert in der Mitte angezeigt, bis jetzt sind dann mögliche Ränder einfach weiß. Dies brachte einige Hürden mit sich, da die Kollisionen
        mit den tiles ebenfalls angepasst werden mussten. Dieses Feature hat es auch fast in den Sprint geschafft, jedoch gab es noch eine Bugs mit den Roboter spawn Positionen und der Roboter Größe, 
        weshalb es leider nicht rechtzeitig fertig wurde. <br>
        Zudem hat Luca Manu bei der Umsetzung seiner To-Do's geholfen und den Doppelsprung fertig gestellt sowie den Kollisions Bug behoben. Danach hat er noch kurz den Doppelsprung etwas angepasst, damit 
        man diesen auch mid air ausführen kann wenn man davor nicht vom Boden weggesprungen ist (also z.B. wenn man sich über eine Kante hinweg bewegt und dann im Fall springen möchte), da dies später für
        den Smash Bros artigen Spielstil wichtig ist.
    </p>
    <p>
        Björn hat der Roboter-klasse eine health System hinzugefügt.
        So hat jetzt jeder Roboter eine maximale HP Anzahl und eine momentane HP Anzahl.
        Die momentanen HP werden am oberen Bildschirmrand angezeigt und sind color coded.
        Die Farben stimmen dabei momentan mit den neuen Roboterfarben überein, sollen dann aber später im Settings Menu konfigurierbar sein.<br>
        Außderdem hat er den ersten sehr simplen melee Angriff eingebaut, dabei wird die schwarze Linie, die die Orientierung des Roboters anzeigt, in Rot erweitert.
        Bildlich kann man sich das als eine Klinge vorstellen die der Roboter ausfährt und damit dann "zu sticht", es soll aber später auch noch mindestens einen "schwingenden" Angriff geben.
        Der Angriff hat einen Cooldown, so dass man ihn nich permanent spammen kann, damit der Angriff nicht nach einem Frame verschwindet hat er auch eine attack duration, beide sind im moment noch lächerlich hoch
        um sie besser bemerkbar zu machen.
    </p>

    <h1>Sprint 5 (12.06. - 26.06.):</h1>
    <p>In diesem Sprint hat sich Emanuel um die Roboter-Grafiken gekümmert. Zuerst hat er eine Community-Vorlage 
        auf Pixelart dafür verwendet. Es stellte sich schnell das Problem heraus, dass der Roboter bei einer Geschwindigkeit
        von 0 nicht die korrekte ausgangsposition hatte (Grafik sollte horizontal gespiegelt angezeigt werden, wenn Roboter
        nach links schaut). Dies wurde korrigiert, in dem wir jetzt im Gameloop der paint_robot()-Funktion eine Variabel mehr 
        mitgeben, die die Blickrichtung des Roboters bestimmt.
    </p>
    <p>
        Zudem hat sich Emanuel um ein Level-Menü gekümmert. Hierbei hat er einen weiteren menü-screen erstellt, in dem einem 
        die einzelnen Level bzw. Maps angezeigt werden. Sobald man auf eine dieser Karten drückt, wird diese geladen und im 
        nächsten Schritt die Spielwelt mit der jeweiligen .json geladen.
    </p>
    <p>
        Luca hat die bugs bei der anpassbaren Screen Size behoben und dieses Feature vollends umgesetzt. Danach hat er Björn geholfen bei der Umsetzung der hitbox/treffen anderer Roboter des melee Angriffs.
        Mithilfe dieses Features hat er einen Rückstoß bei der Attacke hinzugefügt sowie eine Prozentzahl wie in Smash Bros, die sich bei jedem Treffer erhöht und bei der Rückstoß Berechnung verwendet wird.
        Also desto öfter ein Roboter getroffen wurde desto größer ist der Rückstoß. Diese Rückstoß prozente werden in der Health UI unter den Lebenspunkten angezeigt. In diesem Zug hat er auch das movement
        der bots etwas angepasst, damit sich diese etwas mehr wie der player bewegen, sodass man den Rückstoß besser beobachten kann. Zudem hat er auch einen simplen Death Screen eingebaut und die map grenzen
        so umgeschrieben, dass man über diese hinaus kann und stirbt sobald man außerhalb der map grenzen ist.<br>
        Danach hat er versucht die Performance des Spiels zu verbessern, da es mittlerweile vor allem bei größeren Bildschirm Auflösungen zu sehr starken Performance Einbußen kam. Das Hauptproblem war
        dass die Arena jeden Frame neu gerendert wurde. Diese wird nun pre-gerendered was die Performance stark erhöht hat. Zudem hat er die Codebase refactored, da das main game.py file schon über 600 Zeilen lang war.
        Dabei hat er die Methoden für das painting der Screens wie den main menu screen in eine extra Klasse gepackt und einige Methoden extrahiert, sodass der main game loop übersichtlicher ist.
        Zudem hat er auch logik aus der Movement Klasse, die Tastatur Eingaben verarbeitet hat, in den main game loop verschoben, was den Doppelsprung einfacher und reaktionsschneller gemacht hat.
    </p>
</body>
</html>
